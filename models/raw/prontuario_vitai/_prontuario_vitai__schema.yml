version: 2
models:
  - name: raw_prontuario_vitai__estoque_posicao
    description: >
      Posição diária dos estoques de medicamentos e insumos das unidades de
      saúde que utilizam o prontuário Timed (Vitai) para gestão de estoque de
      farmácia e almoxarifado
    columns:
      - name: id_cnes
        description: Número do CNES (Cadastro Nacional de Estabelecimentos de Saúde) da
          unidade de saúde onde o item está localizado
        tests:
          - not_null:
              name: raw_prontuario_vitai__estoque_posicao__id_cnes__not_null
          - relationships:
              name: raw_prontuario_vitai__estoque_posicao__id_cnes__relationship
              to: ref('dim_estabelecimento')
              field: id_cnes
      - name: id_lote
        description: Identificador do lote do medicamento/insumo
      - name: id_material
        description: Código de identificação do material cadastrado no prontuário
        policy_tags:
          - '{{ var("TAG_MATERIAL") }}'
        tests:
          - not_null:
              name: raw_prontuario_vitai__estoque_posicao__id_material__not_null
      - name: estoque_secao
        description: Local dentro da unidade de saúde onde está armazenado o
          medicamento/insumo
      - name: material_descricao
        description: Descrição do medicamento/insumo
        policy_tags:
          - '{{ var("TAG_MATERIAL") }}'
      - name: material_unidade
        description: Unidade de estocagem do medicamento/insumo
      - name: lote_data_vencimento
        description: Data de vencimento do lote
      - name: material_quantidade
        description: Quantidade disponível do medicamento/insumo
      - name: material_valor_unitario
        description: Valor em reais de uma unidade do medicamento/insumo
      - name: material_valor_total
        description: Valor em reais somando todas as unidades disponíveis do
          medicamento/insumo
      - name: data_particao
        description: Data de referência da posição do estoque
      - name: data_snapshot
        description: Momento no qual foi feito o snapshot do registro
      - name: data_carga
        description: Data e hora (GMT-3) no qual foi feito o download do dataset

  - name: raw_prontuario_vitai__estoque_movimento
    description: Movimentação diária dos estoques de medicamentos e insumos das
      unidades de saúde que utilizam o prontuário Timed (Vitai) para gestão de
      estoque de farmácia e almoxarifado
    tests:
      - dbt_utils.unique_combination_of_columns:
          name: raw_prontuario_vitai__estoque_movimento__unique_combination_of_columns
          combination_of_columns:
            - id_cnes
            - id_material
            - estoque_secao_origem
            - estoque_secao_destino
            - estoque_movimento_tipo
            - estoque_movimento_justificativa
            - material_quantidade
            - dispensacao_paciente_cpf
            - dispensacao_prescritor_cpf
            - estoque_movimento_data_hora
          config:
            where: data_particao = date_sub(current_date('America/Sao_Paulo'), INTERVAL 1 DAY)
            error_if: ">1000"
    columns:
      - name: id_cnes
        description: Número do CNES (Cadastro Nacional de Estabelecimentos de Saúde) da
          unidade de saúde onde o item está localizado
        tests:
          - not_null:
              name: raw_prontuario_vitai__estoque_movimento__id_cnes__not_null
          - relationships:
              name: raw_prontuario_vitai__estoque_movimento__id_cnes__relationship
              to: ref('dim_estabelecimento')
              field: id_cnes
      - name: id_material
        description: Código de identificação do material cadastrado no prontuário
        policy_tags:
          - '{{ var("TAG_MATERIAL") }}'
        tests:
          - not_null:
              name: raw_prontuario_vitai__estoque_movimento__id_material__not_null
              config:
                where: "estoque_movimento_data > '2023-01-01'"
      - name: material_descricao
        description: Descrição do material (medicamento/insumo)
        policy_tags:
          - '{{ var("TAG_MATERIAL") }}'
      - name: material_unidade
        description: Unidade de estocagem do material (medicamento/insumo)
      - name: estoque_secao_origem
        description: Local onde o material se encontrava antes de ser movimentado.
      - name: estoque_secao_destino
        description: Local para onde o material foi destinado após movimento.
      - name: estoque_movimento_tipo
        description: Tipo de movimentação do estoque.
      - name: estoque_movimento_justificativa
        description: Justificativa da movimentação do estoque
      - name: estoque_movimento_data_hora
        description: Data e hora da movimentação do estoque.
      - name: estoque_movimento_data
        description: Data da movimentação do estoque.
      - name: dispensacao_paciente_cpf
        description: CPF do paciente no caso de dispensação para usuário
        policy_tags:
          - '{{ var("TAG_CPF") }}'
      - name: dispensacao_paciente_cns
        description: CNS do paciente no caso de dispensação para usuário
        policy_tags:
          - '{{ var("TAG_CNS") }}'
      - name: dispensacao_prescritor_cpf
        description: CPF do prescritor no caso de dispensação para usuário
        policy_tags:
          - '{{ var("TAG_CPF") }}'
      - name: material_quantidade
        description: Quantidade do material movida
      - name: material_valor_total
        description: Valor monetário (em reais) do material movimentado
        tests:
          - dbt_expectations.expect_column_values_to_be_between:
              name: raw_prontuario_vitai__estoque_movimento__material_valor_total__between
              min_value: 0
              max_value: 10000000
              config:
                where: data_particao = date_sub(current_date('America/Sao_Paulo'), INTERVAL 1 DAY)
      - name: data_atualizacao
        description: Data e hora de atualização do registro no sistema de origem
      - name: data_particao
        description: Data de referência da posição do estoque
      - name: data_carga
        description: Data e hora (GMT-3) no qual foi feito o download do dataset

  - name: raw_prontuario_vitai__paciente
    description: Tabela de pacientes, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global do paciente na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
        tests:
          - not_null:
              name: raw_prontuario_vitai__paciente__id__not_null
      - name: gid_estabelecimento
        description: Identificador global do estabelecimento na base da Vitai
        data_type: string
      - name: cbo_ocupacao
        description: Código Brasileiro de Ocupações.
        data_type: string
      - name: id_cidadao
        description: Identificador do cidadão.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: cpf
        description: CPF do cidadão.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CPF") }}'
      - name: cns
        description: Cartão Nacional de Saúde do cidadão.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CNS") }}'
      - name: raca_cor
        description: Raça ou cor do cidadão.
        data_type: string
      - name: nome_alternativo
        description: Nome alternativo do cidadão.
        data_type: string
      - name: complemento
        description: Complemento do endereço do cidadão.
        data_type: string
      - name: data_nascimento
        description: Data de nascimento do cidadão.
        data_type: date
        policy_tags:
          - '{{ var("TAG_DTNASCIMENTO") }}'
      - name: transex
        description: Identificação de transexualidade.
        data_type: string
      - name: tipo_logradouro
        description: Tipo de logradouro do endereço do cidadão.
        data_type: string
      - name: nome_logradouro
        description: Nome do logradouro do endereço do cidadão.
        data_type: string
      - name: uf
        description: Unidade Federativa do endereço do cidadão.
        data_type: string
      - name: nacionalidade
        description: Nacionalidade do cidadão.
        data_type: string
      - name: municipio
        description: Município do endereço do cidadão.
        data_type: string
      - name: telefone
        description: Telefone de contato do cidadão.
        data_type: string
        policy_tags:
          - '{{ var("TAG_TELEFONE") }}'
      - name: nome_mae
        description: Nome da mãe do cidadão.
        data_type: string
        policy_tags:
          - '{{ var("TAG_NOME_MAE") }}'
      - name: sexo
        description: Sexo do cidadão.
        data_type: string
      - name: naturalidade
        description: Naturalidade do cidadão.
        data_type: string
      - name: updated_at
        description: Campo descrevendo a última atualização do registro.
        data_type: timestamp
      - name: pais_nascimento
        description: País de nascimento do cidadão.
        data_type: string
      - name: bairro
        description: Bairro do endereço do cidadão.
        data_type: string
      - name: data_obito
        description: Data de óbito do cidadão, se aplicável.
        data_type: date
        policy_tags:
          - '{{ var("TAG_DTOBITO") }}'
      - name: numero
        description: Número do endereço do cidadão.
        data_type: string
      - name: numero_prontuario
        description: Número do prontuário do cidadão.
        data_type: string
      - name: nome
        description: Nome completo do cidadão.
        data_type: string
        policy_tags:
          - '{{ var("TAG_NOME") }}'
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp
        tests:
          - not_null:
              name: raw_prontuario_vitai__paciente__imported_at__not_null

  - name: raw_prontuario_vitai__profissional
    description: Tabela de profissionais, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global do profissional na base da Vitai.
        data_type: string
        tests:
          - not_null:
              name: raw_prontuario_vitai__profissional__id__not_null
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: gid_estabelecimento
        description: Identificador global do estabelecimento na base da Vitai.
        data_type: string
      - name: numero_conselho
        description: Número do conselho do profissional.
        data_type: string
      - name: conselho_regional
        description: Conselho regional do profissional.
        data_type: string
      - name: codigo_interno
        description: Código interno do profissional.
        data_type: string
      - name: nome
        description: Nome do profissional.
        data_type: string
      - name: cpf
        description: CPF do profissional.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CPF") }}'
      - name: cns
        description: Cartão Nacional de Saúde do profissional.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CNS") }}'
      - name: sigla_conselho
        description: Sigla do conselho do profissional.
        data_type: string
      - name: uf_conselho
        description: Unidade Federativa do conselho do profissional.
        data_type: string
      - name: cbo_descricao
        description: Descrição do Código Brasileiro de Ocupações.
        data_type: string
      - name: cbo
        description: Código Brasileiro de Ocupações.
        data_type: string
      - name: situacao
        description: Situação do profissional.
        data_type: string
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp

  - name: raw_prontuario_vitai__boletim
    description: Tabela de boletins de atendimento, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global do boletim na base da Vitai.
        data_type: string
        tests:
          - not_null:
              name: raw_prontuario_vitai__boletim__id__not_null
      - name: gid_estabelecimento
        description: Identificador global do estabelecimento na base da Vitai.
        data_type: string
      - name: atendimento_tipo
        description: Tipo de atendimento realizado.
        data_type: string
      - name: gid_paciente
        description: Identificador global do Paciente.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: id_setor
        description: Identificador do Setor.
        data_type: string
      - name: meio_transporte_nome
        description: Nome do meio de transporte utilizado.
        data_type: string
      - name: clinica_nome
        description: Nome da clínica de atendimento.
        data_type: string
      - name: sk_data
        description: Chave de data do evento.
        data_type: string
      - name: motivo_atendimento_nome
        description: Nome do motivo do atendimento.
        data_type: string
      - name: gid_secao
        description: Identificador global da seção na base da Vitai.
        data_type: string
      - name: cancelado
        description: Indicação se o evento foi cancelado.
        data_type: string
      - name: plano_saude
        description: Indicação do plano de saúde do paciente.
        data_type: string
      - name: data_entrada
        description: Data de entrada do paciente.
        data_type: string
      - name: id_motivo_atendimento
        description: Identificador do motivo do atendimento.
        data_type: string
      - name: sob_custodia
        description: Indicação se o paciente está sob custódia.
        data_type: string
      - name: secao_nome
        description: Nome da seção de atendimento.
        data_type: string
      - name: detalhe_acidente_nome
        description: Nome do detalhe do acidente.
        data_type: string
      - name: unidade_entrada_tipo
        description: Tipo de unidade de entrada.
        data_type: string
      - name: pulseira
        description: Indicação de uso de pulseira.
        data_type: string
      - name: especialidade_nome
        description: Nome da especialidade de atendimento.
        data_type: string
      - name: updated_at
        description: Data e hora do evento.
        data_type: timestamp
      - name: convenio
        description: Nome do convênio do paciente.
        data_type: string
      - name: estabelecimento_sigla
        description: Sigla do estabelecimento de atendimento.
        data_type: string
      - name: id_cidadao
        description: Identificador do cidadão na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: numero_be
        description: Número do boletim de atendimento.
        data_type: string
      - name: origem_descricao
        description: Descrição da origem do atendimento.
        data_type: string
      - name: entrada_tipo
        description: Tipo de entrada do paciente.
        data_type: string
      - name: interno
        description: Indicação se o paciente é interno.
        data_type: string
      - name: cbo_descricao
        description: Descrição do Código Brasileiro de Ocupações.
        data_type: string
      - name: cbo_codigo
        description: Código Brasileiro de Ocupações.
        data_type: string
      - name: internacao_data
        description: Data de internação do paciente.
        data_type: string
      - name: alta_data
        description: Data de alta do paciente.
        data_type: string
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: sigla
        description: Sigla do estabelecimento de atendimento.
        data_type: string
      - name: estabelecimento_nome
        description: Nome do estabelecimento de atendimento.
        data_type: string
      - name: cpf
        description: CPF do paciente.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CPF") }}'
      - name: cns
        description: Cartão Nacional de Saúde do paciente.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CNS") }}'
      - name: base_url
        description: URL base do evento.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp

  - name: raw_prontuario_vitai__alergia
    description: Tabela de eventos de alergia, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global da ocorrência de alergia na base da Vitai.
        data_type: string
        tests:
          - not_null:
              name: raw_prontuario_vitai__alergia__id__not_null
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: gid_boletim
        description: Identificador do boletim de atendimento na base da Vitai.
        data_type: string
      - name: gid_paciente
        description: Identificador global do paciente na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: severidade
        description: Severidade da alergia.
        data_type: string
      - name: updated_at
        description: Data e hora do evento de alergia.
        data_type: timestamp
      - name: tipo
        description: Tipo de alergia.
        data_type: string
      - name: descricao
        description: Descrição da alergia.
        data_type: string
      - name: alg_ativo
        description: Indicação se a alergia está ativa.
        data_type: string
      - name: data_registro
        description: Data de registro da alergia.
        data_type: string
      - name: reacao
        description: Reação alérgica.
        data_type: string
      - name: inicio_sintomas
        description: Data de início dos sintomas.
        data_type: string
      - name: observacao
        description: Observações sobre a alergia.
        data_type: string
      - name: cpf
        description: CPF do paciente.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CPF") }}'
      - name: cns
        description: Cartão Nacional de Saúde do paciente.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CNS") }}'
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: sigla
        description: Sigla do estabelecimento de atendimento.
        data_type: string
      - name: estabelecimento_nome
        description: Nome do estabelecimento de atendimento.
        data_type: string
      - name: base_url
        description: URL base do evento.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp

  - name: raw_prontuario_vitai__atendimento
    description: Tabela de eventos de atendimento, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global do atendimento na base da Vitai.
        data_type: string
        tests:
          - not_null:
              name: raw_prontuario_vitai__atendimento__id__not_null
      - name: gid_paciente
        description: Identificador global do paciente na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: gid_boletim
        description: Identificador global do boletim de atendimento na base da Vitai.
        data_type: string
      - name: gid_estabelecimento
        description: Identificador global do estabelecimento na base da Vitai.
        data_type: string
      - name: gid_profissional
        description: Identificador global do profissional na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: atendimento_tipo
        description: Tipo de atendimento realizado.
        data_type: string
      - name: especialidade
        description: Especialidade do atendimento.
        data_type: string
      - name: inicio_datahora
        description: Data e hora de início do atendimento.
        data_type: string
      - name: fim_datahora
        description: Data e hora de fim do atendimento.
        data_type: string
      - name: cid_codigo
        description: Código do CID.
        data_type: string
      - name: updated_at
        description: Data e hora do evento.
        data_type: timestamp
      - name: codigo
        description: Código do evento de atendimento.
        data_type: string
      - name: queixa
        description: Queixa principal do paciente.
        data_type: string
      - name: cid_nome
        description: Descrição do CID.
        data_type: string
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp

  - name: raw_prontuario_vitai__cirurgia
    description: Tabela de eventos de cirurgia, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global da ocorrência de uma cirurgia na base da Vitai.
        data_type: string
        tests:
          - not_null:
              name: raw_prontuario_vitai__cirurgia__id__not_null
      - name: gid_paciente
        description: Identificador global do paciente na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: gid_boletim
        description: Identificador global do boletim de atendimento na base da Vitai.
        data_type: string
      - name: gid_estabelecimento
        description: Identificador global do estabelecimento na base da Vitai.
        data_type: string
      - name: estabelecimento_sigla
        description: Sigla do estabelecimento de atendimento.
        data_type: string
      - name: cirurgia_data
        description: Data da cirurgia.
        data_type: string
      - name: status
        description: Status da cirurgia.
        data_type: string
      - name: procedimento_codigo
        description: Código do procedimento realizado.
        data_type: string
      - name: procedimento_nome
        description: Nome do procedimento realizado.
        data_type: string
      - name: diagnostico_codigo
        description: Código do diagnóstico.
        data_type: string
      - name: diagnostico_descricao
        description: Descrição do diagnóstico.
        data_type: string
      - name: especialidade
        description: Especialidade da cirurgia.
        data_type: string
      - name: updated_at
        description: Data e hora do evento de cirurgia.
        data_type: timestamp
      - name: base_url
        description: URL base do evento.
        data_type: string
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp

  - name: raw_prontuario_vitai__classificacao_risco
    description: Tabela de eventos de classificação de risco, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global da classificação de risco na base da Vitai.
        data_type: string
        tests:
          - not_null:
              name: raw_prontuario_vitai__classificacao_risco__id__not_null
      - name: gid_paciente
        description: Identificador global do paciente na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: gid_boletim
        description: Identificador global do boletim de atendimento na base da Vitai.
        data_type: string
      - name: gid_estabelecimento
        description: Identificador global do estabelecimento na base da Vitai.
        data_type: string
      - name: gid_profissional
        description: Identificador global do profissional na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: asv_queixa_principal
        description: Queixa principal do paciente.
        data_type: string
      - name: risco
        description: Nível de risco do paciente.
        data_type: string
      - name: inicio_datahora
        description: Data e hora de início da classificação de risco.
        data_type: string
      - name: fim_datahora
        description: Data e hora de fim da classificação de risco.
        data_type: string
      - name: clr_meta
        description: Meta da classificação de risco.
        data_type: string
      - name: descritor
        description: Descritor da classificação de risco.
        data_type: string
      - name: updated_at
        description: Data e hora do evento de classificação de risco.
        data_type: timestamp
      - name: codigo
        description: Código do evento de classificação de risco.
        data_type: string
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp

  - name: raw_prontuario_vitai__diagnostico
    description: Tabela de eventos de diagnóstico, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global do diagnóstico na base da Vitai.
        data_type: string
        tests:
          - not_null:
              name: raw_prontuario_vitai__diagnostico__id__not_null
      - name: id_boletim
        description: Identificador do boletim de atendimento na base da Vitai.
        data_type: string
      - name: gid_boletim
        description: Identificador global do boletim na base da Vitai.
        data_type: string
      - name: gid_paciente
        description: Identificador global do paciente na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: gid_estabelecimento
        description: Identificador global do estabelecimento na base da Vitai.
        data_type: string
      - name: updated_at
        description: Data e hora do evento de diagnóstico.
        data_type: timestamp
      - name: tipo
        description: Tipo de diagnóstico.
        data_type: string
      - name: codigo
        description: Código do diagnóstico.
        data_type: string
      - name: data
        description: Data do diagnóstico.
        data_type: string
      - name: descricao
        description: Descrição do diagnóstico.
        data_type: string
      - name: sk_data
        description: Chave de data do evento.
        data_type: string
      - name: situacao
        description: Situação do diagnóstico.
        data_type: string
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: base_url
        description: URL base do evento.
        data_type: string
      - name: sigla
        description: Sigla do estabelecimento de atendimento.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp

  - name: raw_prontuario_vitai__exame
    description: Tabela de eventos de exame, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global do exame na base da Vitai.
        data_type: string
        tests:
          - not_null:
              name: raw_prontuario_vitai__exame__id__not_null
      - name: gid_paciente
        description: Identificador global do paciente na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: gid_boletim
        description: Identificador global do boletim de atendimento na base da Vitai.
        data_type: string
      - name: gid_estabelecimento
        description: Identificador global do estabelecimento na base da Vitai.
        data_type: string
      - name: gid_medico_solicitante
        description: Identificador global do médico solicitante na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: id_exame_item
        description: Identificador do item de exame na base da Vitai.
        data_type: string
      - name: status_pedido
        description: Status do pedido de exame.
        data_type: string
      - name: liberacao_data
        description: Data de liberação do exame.
        data_type: string
      - name: pedido_data
        description: Data do pedido de exame.
        data_type: string
      - name: realizacao_data
        description: Data de realização do exame.
        data_type: string
      - name: indicacao_clinica
        description: Indicação clínica para o exame.
        data_type: string
      - name: mnemonico
        description: Mnemonico do exame.
        data_type: string
      - name: updated_at
        description: Data e hora do evento de exame.
        data_type: timestamp
      - name: tipo
        description: Tipo de exame.
        data_type: string
      - name: exame
        description: Nome do exame.
        data_type: string
      - name: medico_solicitante_nome
        description: Nome do médico solicitante.
        data_type: string
      - name: id_pedido
        description: Identificador do pedido de exame.
        data_type: string
      - name: status_item
        description: Status do item de exame.
        data_type: string
      - name: cpf
        description: CPF do paciente.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CPF") }}'
      - name: cns
        description: Cartão Nacional de Saúde do paciente.
        data_type: string
        policy_tags:
          - '{{ var("TAG_CNS") }}'
      - name: base_url
        description: URL base do evento.
        data_type: string
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: sigla
        description: Sigla do estabelecimento de atendimento.
        data_type: string
      - name: estabelecimento_nome
        description: Nome do estabelecimento de atendimento.
        data_type: string
      - name: procedimento_codigo
        description: Código do procedimento realizado.
        data_type: string
      - name: procedimento_nome
        description: Nome do procedimento realizado.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp
  - name: raw_prontuario_vitai__m_estabelecimento
    description: >
      Tabela contendo informações básicas sobre os estabelecimentos de saúde.
    columns:
      - name: gid
        description: Identificador único do estabelecimento.
      - name: cnes
        description: Código CNES (Cadastro Nacional de Estabelecimentos de Saúde) do estabelecimento.
      - name: cnpj
        description: CNPJ do estabelecimento.
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: sigla
        description: Sigla do estabelecimento.
      - name: nome_estabelecimento
        description: Nome do estabelecimento de saúde.
      - name: idsetor
        description: Identificador do setor do estabelecimento.
      - name: secretaria_gid
        description: Identificador único da secretaria à qual o estabelecimento pertence.
      - name: cliente
        description: Nome ou identificação do cliente do estabelecimento.
      - name: baseurl
        description: URL base do estabelecimento ou sistema relacionado.
      - name: updated_at
        description: Data e hora da última atualização das informações do estabelecimento.
      - name: imported_at
        description: Data e hora da importação dos dados para o data lake.
  - name: raw_prontuario_vitai__relato_cirurgico
    description: >
      Tabela contendo informações detalhadas sobre os relatos cirúrgicos realizados nos estabelecimentos de saúde.
    columns:
      - name: gid
        description: Identificador único do relato cirúrgico.
      - name: boletim_gid
        description: Identificador único do boletim associado ao relato cirúrgico.
      - name: paciente_gid
        description: Identificador único do paciente associado ao relato cirúrgico.
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: estabelecimento_gid
        description: Identificador único do estabelecimento de saúde onde ocorreu a cirurgia.
      - name: cir_data
        description: Data da cirurgia.
      - name: nome_especialidade
        description: Nome da especialidade médica responsável pela cirurgia.
      - name: status
        description: Status atual do relato cirúrgico.
      - name: checkin_sala
        description: Horário de check-in na sala de cirurgia.
      - name: cirurgia_inicio
        description: Horário de início da cirurgia.
      - name: cirurgia_fim
        description: Horário de término da cirurgia.
      - name: checkout_sala
        description: Horário de check-out da sala de cirurgia.
      - name: tempo_sala
        description: Tempo total na sala de cirurgia.
      - name: anestesia
        description: Tipo de anestesia utilizada na cirurgia.
      - name: contaminacao
        description: Nível de contaminação observado durante a cirurgia.
      - name: codigo_procedimento
        description: Código do procedimento cirúrgico realizado.
      - name: descricao_procedimento
        description: Descrição do procedimento cirúrgico realizado.
      - name: codigo_diagnostico
        description: Código do diagnóstico relacionado à cirurgia.
      - name: descricao_diagnostico
        description: Descrição do diagnóstico relacionado à cirurgia.
      - name: leito_paciente
        description: Identificação do leito do paciente.
      - name: equipe
        description: Equipe médica responsável pela cirurgia.
      - name: cir_datafinalizado
        description: Data de finalização do relato cirúrgico.
      - name: cliente
        description: Nome ou identificação do cliente associado ao relato cirúrgico.
      - name: baseurl
        description: URL base relacionada ao sistema do relato cirúrgico.
      - name: estabelecimento_sigla
        description: Sigla do estabelecimento de saúde onde ocorreu a cirurgia.
      - name: codigo_interno
        description: Código interno do relato cirúrgico.
      - name: updated_at
        description: Data e hora da última atualização do relato cirúrgico.
      - name: imported_at
        description: Data e hora da importação dos dados para o data lake.
  - name: raw_prontuario_vitai__internacao
    description: >
      Tabela contendo informações detalhadas sobre as internações realizados nos estabelecimentos de saúde.
    columns:
      - name: gid
        description: Identificador único da internação.
      - name: boletim_gid
        description: Identificador único do boletim associado a internação.
      - name: paciente_gid
        description: Identificador único do paciente associado ao internação.
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: estabelecimento_gid
        description: Identificador único do estabelecimento de saúde onde ocorreu a internação.
      - name: id_procedimento
        description: Identificador do procedimento realizado.
      - name: id_diagnostico
        description: Identificador do diagnotico.
      - name: internacao_tipo
        description: Descricao do tipo de internação realizada.
      - name: cpf
        policy_tags:
          - '{{ var("TAG_CPF") }}'
        description: CPF do paciente internado.
      - name: cns
        policy_tags:
          - '{{ var("TAG_CNS") }}'
        description: CNS do paciente internado.
      - name: estabelecimento_sigla
        description: Sigla do estabelecimetno de saúdew onde ocorreu a internação.
      - name: procedimento_nome
        description: Descrição do procedimento realizado.
      - name: diagnostico_descricao
        description: Descrição do diagnostico realizado.
      - name: alta_motivo
        description: Motivo da alta do paciente.
      - name: risco
        description: Risco do paciente.
      - name: entrada_data
        description: Data de entrada do paciente.
      - name: internacao_data
        description: Data de internação do paciente.
      - name: obito_data
        description: Data de óbito do paciente.
      - name: cliente
        description: Nome ou identificação do cliente associado ao relato cirúrgico.
      - name: baseurl
        description: URL base relacionada ao sistema do relato cirúrgico.
      - name: updated_at
        description: Data e hora da última atualização do relato cirúrgico.
      - name: imported_at
        description: Data e hora da importação dos dados para o data lake.
      - name: created_at
        description: Data e hora da criação do registro de internação.
  - name: raw_prontuario_vitai__resumo_alta
    description: |
      Tabela contendo informações detalhadas sobre os resumos de alta realizados nos estabelecimentos de saúde.
    columns:
      - name: gid
        description: Identificador único do resumo de alta
      - name: gid_boletim
        description: ID do boletim associado ao evento.
      - name: gid_paciente
        description: ID do paciente associado ao evento.
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR") }}'
      - name: gid_estabelecimento
        description: ID do estabelecimento onde o evento ocorreu.
      - name: id_alta_medica
        description: Identificador único da alta médica associada ao evento.
      - name: updated_at
        description: Timestamp indicando a última atualização do evento.
      - name: alta_tipo
        description: Tipo de alta médica.
      - name: resumo_alta_datahora
        description: Data e hora do resumo da alta médica.
      - name: recomendacao
        description: Recomendações associadas ao evento de alta.
      - name: resumo_alta_descricao
        description: Resumo da alta médica.
      - name: alta_conduta
        description: Conduta tomada durante a alta.
      - name: alta_exames
        description: Exames realizados durante a alta.
      - name: alta_tratamento
        description: Tratamento dado durante a alta.
      - name: id_unr
        description: Identificador da unidade de referência.
      - name: unr_nome
        description: Nome da unidade de referência.
      - name: cid_codigo_alta
        description: Código CID da alta médica.
      - name: cid_descricao_alta
        description: Descrição CID da alta médica.
      - name: desfecho_internacao
        description: Desfecho da internação.
      - name: servico_descricao
        description: Descrição do serviço prestado.
      - name: exclusao_alta_datahora
        description: Data e hora da exclusão da alta médica, se aplicável.
      - name: exclusao_motivo
        description: Motivo da exclusão da alta médica, se aplicável.
      - name: profissional_alta
        description: Nome do profissional que executou a alta médica.
      - name: cliente
        description: Nome ou identificação do cliente associado ao relato cirúrgico.
      - name: baseurl
        description: URL base relacionada ao sistema do relato cirúrgico.
      - name: estabelecimento_sigla
        description: Sigla do estabelecimento associado ao evento.
      - name: imported_at
        description: Data e hora da importação dos dados para o data lake.