version: 2 

models:
  - name: raw_prontuario_vitai__cirurgia
    description: Tabela de eventos de cirurgia, sincronizada com Vitai.
    columns:
      - name: gid
        description: Identificador global da ocorrência de uma cirurgia na base da Vitai.
        data_type: string
        data_tests:
          - not_null:
              name: raw_prontuario_vitai__cirurgia__id__not_null
      - name: gid_paciente
        description: Identificador global do paciente na base da Vitai.
        data_type: string
        policy_tags:
          - '{{ var("TAG_IDENTIFICADOR_SISTEMA") }}'
      - name: gid_boletim
        description: Identificador global do boletim de atendimento na base da Vitai.
        data_type: string
      - name: gid_estabelecimento
        description: Identificador global do estabelecimento na base da Vitai.
        data_type: string
      - name: estabelecimento_sigla
        description: Sigla do estabelecimento de atendimento.
        data_type: string
      - name: cirurgia_data
        description: Data da cirurgia.
        data_type: string
      - name: status
        description: Status da cirurgia.
        data_type: string
      - name: procedimento_codigo
        description: Código do procedimento realizado.
        data_type: string
      - name: procedimento_nome
        description: Nome do procedimento realizado.
        data_type: string
      - name: diagnostico_codigo
        description: Código do diagnóstico.
        data_type: string
      - name: diagnostico_descricao
        description: Descrição do diagnóstico.
        data_type: string
      - name: especialidade
        description: Especialidade da cirurgia.
        data_type: string
      - name: updated_at
        description: Data e hora do evento de cirurgia.
        data_type: timestamp
      - name: base_url
        description: URL base do evento.
        data_type: string
      - name: cliente
        description: Cliente associado ao evento.
        data_type: string
      - name: imported_at
        description: Data e hora de importação para o Data Lake.
        data_type: timestamp
      - name: created_at
        description: Data e hora de criação do registro no ETL Vitai
        data_type: timestamp
