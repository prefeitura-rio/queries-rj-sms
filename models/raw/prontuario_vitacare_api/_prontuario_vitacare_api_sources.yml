version: 2

sources:
  - name: brutos_prontuario_vitacare_api_staging
    database: rj-sms
    schema: brutos_prontuario_vitacare_api
    tables:

      - name: atendimento_continuo
        loaded_at_field: "CAST(source_updated_at AS TIMESTAMP)"
        freshness:
          warn_after: {count: 4, period: hour}
          error_after: {count: 24, period: hour}
      - name: paciente_continuo
        loaded_at_field: "CAST(source_updated_at AS TIMESTAMP)"
        freshness:
          warn_after: {count: 4, period: hour}
          error_after: {count: 24, period: hour}

  # Desativar quando estiver tendo envio para o ambiente de prod
  - name: brutos_prontuario_vitacare_staging_dev
    database: rj-sms-dev
    schema: brutos_prontuario_vitacare_staging
    tables:
      - name: atendimento_continuo