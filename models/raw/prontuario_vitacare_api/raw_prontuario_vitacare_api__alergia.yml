version: 2

models:
  - name: raw_prontuario_vitacare_api__alergia
    description: >
      Tabela contendo registros de alergias informadas na anamnese dos atendimentos contínuos
      extraídos do prontuário VitaCare (API). Inclui o identificador global e local do prontuário,
      CNES da unidade, descrição da alergia e metadados de carga.

    columns:
      - name: id_prontuario_global
        description: >
          Identificador global do prontuário, composto pela concatenação de `payload_cnes`
          e `source_id`.
        data_type: string

      - name: id_prontuario_local
        description: Identificador local do prontuário (source_id original).
        data_type: string

      - name: id_cnes
        description: >
          Código CNES da unidade de saúde onde o atendimento foi realizado.
        data_type: string

      - name: alergias_anamnese_descricao
        description: >
          Descrição da alergia registrada na anamnese do atendimento.
        data_type: string

      - name: loaded_at
        description: >
          Data e hora de carregamento do registro no Data Lake.
        data_type: datetime

      - name: data_particao
        description: >
          Data utilizada para particionamento (derivada de `datahora_fim_atendimento`).
        data_type: date